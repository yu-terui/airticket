<!DOCTYPE html>
<html lang="ja">
    <head>
        <meta charset="UTF-8">
        <title>Airline航空 - 会員ログイン</title>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.4.0/css/bootstrap-reboot.min.css">
        <link type="text/css" rel="stylesheet" href="../assets/css/style.css">
    </head>
    <body id="member_login">
        <header>
            <div class="container">
                <div class="flex">
                    <h1><a href="/">AIRLINE</a></h1>
                    <nav>
                        <ul>
                            <li><a href="/">予約</a></li>
                            <li><a href="/member_register">会員登録</a></li>
                        </ul>
                    </nav>
                </div>
            </div>
        </header>
        <main>
            <div class="container">
                <div id="members">
                    <h2>会員ログイン</h2>
                    <form id="form" method="post" action="/booking_info_login/:id">
                        <label for="id">お客様番号</label><input type="text" id="id" name="id" placeholder="例：12345">
                        <p id="id_alert"></p>
                        <label for="password">パスワード</label><input type="password" id="password" name="password">
                        <p id="password_alert"></p>
                        <button id="login_btn" type="submit">ログイン</button>
                        <div>
                            <p class="button"><a href="/member_register">新規会員登録へ</a></p>
                        </div>
                        <input type="hidden" name="date" value="<%= date %>">
                        <input type="hidden" name="flight_num" value="<%= flight_num %>">
                        <input type="hidden" name="departure" value="<%= departure %>">
                        <input type="hidden" name="departure_time" value="<%= departure_time %>">
                        <input type="hidden" name="arrival" value="<%= arrival %>">
                        <input type="hidden" name="arrival_time" value="<%= arrival_time %>">
                        <input type="hidden" name="people" value="<%= people %>">
                        <input type="hidden" name="total" value="<%= total %>">
                    </form>
                </div>
            </div>
        </main>
        <footer>
            <div class="container">
                <small>Copyright &copy; 2024 Airline. All rights reserved.</small>
            </div>
        </footer>
        <script type="text/javascript">
            let login_btn = document.getElementById("login_btn");
            login_btn.addEventListener("click", function () {
                //お客様番号
                if (!id.value.match(/[0-9]{5}/)) {
                    id_alert.textContent = "5桁の数字を入力してください";
                    id_alert.style.color = "#f00";
                    id.style.borderColor = "#f00";
                    event.preventDefault();
                } else {
                    id_alert.textContent = "";
                    id.style.borderColor = "#333";
                }
                //パスワード
                if (password.value.match(/[^a-zA-Z0-9!-/:-@¥[-`{-~]/)) {
                    password_alert.textContent = "半角英数字記号で入力してください";
                    password_alert.style.color = "#f00";
                    password.style.borderColor = "#f00";
                    event.preventDefault();
                } else if (!password.value) {
                    password_alert.textContent = "入力してください";
                    password_alert.style.color = "#f00";
                    password.style.borderColor = "#f00";
                    event.preventDefault();
                } else {
                    password_alert.textContent = "";
                    password.style.borderColor = "#333";
                }
            })
        </script>
    </body>
</html>
